{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Strava API Introduction The Strava API (Application Programming Interface) is a set of tools and protocols that allows developers to interact with Strava's platform and access various features and data related to fitness activities. Strava is a popular social fitness network used by millions of athletes worldwide to track and analyze their workouts, share achievements, and connect with other athletes. The Strava API provides developers with a way to integrate Strava's functionality into their own applications, websites, or services. By leveraging the API, developers can build custom solutions that interact with Strava's ecosystem, enabling a wide range of possibilities such as: Data Access : Developers can retrieve detailed information about athletes' activities, including route maps, distance, duration, elevation gain, heart rate, and more. Activity Uploads : Applications can programmatically upload new activities to Strava on behalf of users, allowing seamless integration with other fitness tracking devices or platforms. Analysis and Visualization : Developers can analyze activity data and create visualizations, charts, or reports to help athletes understand their performance and progress over time. Social Features : Applications can incorporate social features such as following other athletes, viewing activity feeds, and giving kudos (likes) to activities. Segment Information : Access to segment data allows developers to identify popular routes, compare performance on specific segments, and create leaderboards. OAuth Authentication : Integration with Strava's OAuth authentication allows developers to securely access user data with their permission, ensuring privacy and security. Third-Party Integrations : The Strava API enables integration with other third-party services, such as fitness platforms, training tools, analysis software, and more. Overall, the Strava API empowers developers to create innovative fitness applications and services that enhance the experience of athletes and fitness enthusiasts. Whether building a custom training dashboard, creating a community-driven fitness challenge platform, or analyzing performance metrics in novel ways, the Strava API offers a wealth of opportunities for developers to unlock the full potential of fitness data. About Strava: Strava, which means \"to strive\" in Swedish, is an American internet service for tracking physical exercise that incorporates social network features. It was founded in 2009 by Mark Gainey and Michael Horvath. Strava started out tracking mostly outdoor cycling and running activities using Global Positioning System data, but now it supports several dozen other exercise types, including indoor activities. Strava is considered the largest sports community in the world, with over 100 million athletes in 195 countries. It is a leading platform for movement, allowing users to record over 30 types of activities with features to help them explore, connect, and measure their progress. Strava athletes upload everything from walks around the block to Tour de France stage wins. About Strava API v3: Strava API v3 is a publicly available interface that allows developers to access Strava's rich dataset. This interface is stable and is used by the Strava mobile applications. It provides diverse opportunities for developers, from creating new hardware to augmenting the Strava experience. The API documentation includes general information, authentication requirements, webhooks, activity uploads, and rate limits. It also provides a Swagger Playground, which is an easy way to familiarize yourself with the Strava API by submitting HTTP requests and observing the responses before writing any client code. The Strava API documentation has several examples in HTTPie, Java, Obj-C, JavaScript, C# and Python, that can be used as guides.","title":"Home"},{"location":"#welcome-to-the-strava-api","text":"","title":"Welcome to the Strava API"},{"location":"#introduction","text":"The Strava API (Application Programming Interface) is a set of tools and protocols that allows developers to interact with Strava's platform and access various features and data related to fitness activities. Strava is a popular social fitness network used by millions of athletes worldwide to track and analyze their workouts, share achievements, and connect with other athletes. The Strava API provides developers with a way to integrate Strava's functionality into their own applications, websites, or services. By leveraging the API, developers can build custom solutions that interact with Strava's ecosystem, enabling a wide range of possibilities such as: Data Access : Developers can retrieve detailed information about athletes' activities, including route maps, distance, duration, elevation gain, heart rate, and more. Activity Uploads : Applications can programmatically upload new activities to Strava on behalf of users, allowing seamless integration with other fitness tracking devices or platforms. Analysis and Visualization : Developers can analyze activity data and create visualizations, charts, or reports to help athletes understand their performance and progress over time. Social Features : Applications can incorporate social features such as following other athletes, viewing activity feeds, and giving kudos (likes) to activities. Segment Information : Access to segment data allows developers to identify popular routes, compare performance on specific segments, and create leaderboards. OAuth Authentication : Integration with Strava's OAuth authentication allows developers to securely access user data with their permission, ensuring privacy and security. Third-Party Integrations : The Strava API enables integration with other third-party services, such as fitness platforms, training tools, analysis software, and more. Overall, the Strava API empowers developers to create innovative fitness applications and services that enhance the experience of athletes and fitness enthusiasts. Whether building a custom training dashboard, creating a community-driven fitness challenge platform, or analyzing performance metrics in novel ways, the Strava API offers a wealth of opportunities for developers to unlock the full potential of fitness data. About Strava: Strava, which means \"to strive\" in Swedish, is an American internet service for tracking physical exercise that incorporates social network features. It was founded in 2009 by Mark Gainey and Michael Horvath. Strava started out tracking mostly outdoor cycling and running activities using Global Positioning System data, but now it supports several dozen other exercise types, including indoor activities. Strava is considered the largest sports community in the world, with over 100 million athletes in 195 countries. It is a leading platform for movement, allowing users to record over 30 types of activities with features to help them explore, connect, and measure their progress. Strava athletes upload everything from walks around the block to Tour de France stage wins. About Strava API v3: Strava API v3 is a publicly available interface that allows developers to access Strava's rich dataset. This interface is stable and is used by the Strava mobile applications. It provides diverse opportunities for developers, from creating new hardware to augmenting the Strava experience. The API documentation includes general information, authentication requirements, webhooks, activity uploads, and rate limits. It also provides a Swagger Playground, which is an easy way to familiarize yourself with the Strava API by submitting HTTP requests and observing the responses before writing any client code. The Strava API documentation has several examples in HTTPie, Java, Obj-C, JavaScript, C# and Python, that can be used as guides.","title":"Introduction"},{"location":"about/","text":"Procedure Installation(Windows OS) Install the required dependencies if not installed. Continue with the installation of the API package if these dependencies are satisfied by the System. Flask :- This dependency is utilized for building web applications in Python, enabling the creation of routes and functionalities to handle HTTP requests and responses effectively. pip install flask Requests :- It's similar to Postman, Requests is employed to make HTTP requests, including GET and POST, to interact with the Strava API, facilitating communication between the application and the external service. pip install request dotenv :- By leveraging dotenv, the project can securely access environment variables, such as API keys or sensitive configuration settings, stored in .env file , ensuring separation of configuration from code. os :- The os module is utilized to interact with the operating system, specifically for loading environment variables from the .env file into the Python script, providing access to the environment configuration required for the application's execution. pip install dotenv pip install jsonify Importing the respective packages and ensuring the dependencies are installed according to the following. In your code editor make sure the code is well written:- from flask import Flask, request, jsonify import requests from dotenv import flaskload_dotenv import os Now, to install our API use: pip install strava_api Moving forward with the usage of API: For the Strava OAuth Settings: First, the user should go the official Strava website There, user has to register himself on Strava, create an account and Login. After the login, the user should go to the Settings page, there the user will be able to see a option called \"My Apps\" . Sometimes, if the option is not visible, user has to explicitly go the https://www.strava.com/settings/api (or apps) There, if he's new, nothing will be listed prior. Then he has to fill the form accordingly and create his API. After the successful creation of the API, the user will be able to see the Client ID and client secret listed down. Copy them and paste them into a .env file into their workspace. Now as we have completed the Installation process, further we developed 5 functionalities: Authorization. Getting the access token. Fetching the activities from the Strava API Storing those activities in the database Revoking or de-authorization of the API by the user. Refreshing the Access token. Authorization To use our API, the user has to authorize himself through his Strava account. The \u201cAuthorization\u201d function in our API is mainly responsible for generating an authorization URL, which the user uses to get the authorization code. The Authorization code is given by Strava itself. This process of getting the authorization code can be manually processed or can be automated with the help of front-end. Before going to steps involved in authorization, let\u2019s briefly see what is this authorization code and what is its significance- Authorization code, is a crucial part of the OAuth 2.0 authorization framework. It is a alpha-numeric, temporary, sequence, acting as an intermediary step in the OAuth flow, bridging gap between the user authorization and granting access to our API. So, here our API authorization route (\u201c/authorize\u201d) , defines a function that returns a authorization URL, which is useful in getting authorization code. Step-1 : First, when the route is accessed, the API server returns a authorization URL, which is of the format: f\"{STRAVA_AUTH_URL}? client_id={CLIENT_ID}&redirect_uri={REDIRECT_URI}&response_type=code&scope={scope}\" This URL is unique to the user using it, as it involves the CLIENT_ID and the REDIRECT_URL of the respective user. So, let\u2019s briefly talk about \u201cSCOPE\u201d, which is mentioned above in the URL. Strava's API utilizes various scopes to define the level of access your application can request from a user's Strava account. These scopes are critical for granular control over the data your application can access and ensures user privacy. Here's a breakdown of the different scope types involved in Strava API settings: Common Strava Scopes: read : Grants read-only access to public profile data, like username and follower count. read_all : Extends read access to private profile data of the authorized user, including activities, clubs, and gear. profile:read_all : Specifically grants read access to all profile information of the authorized user. profile:write: Allows your application to modify the authorized user's profile data on Strava (use with caution!). activity:read : Enables read-only access to the authorized user's activity data, including details like distance and elapsed time. activity:read_all : Provides read access to all activity data, including private activities of the authorized user. activity:write : Grants your application permission to create, update, or delete activities on the authorized user's Strava account (be mindful of user privacy). Step-2 : Here, user have to use the resultant authorization URL to get the authorization code. To perform this, go to browser, and search this URL. If already not logged into Strava account, the URL prompts user to log in. Step-3 : After successful login, the user gets redirected to a authorization page, in which user has to authorize the API to access the user\u2019s details(Depends on the scope defined in the URL.) Step-4 : After the user authorizes the API, the user will be redirected to an empty website like shown below. Now, the user should copy the respective URL for that page. Step-5 : Now, after copying the URL of that page, user can identify a query parameter in the URL, named \u201ccode\u201d. Now, copy the value of that parameter from the URL. That value is the authorization code. End of Authorization URL. Access Token Next step in the application, after authorization is, getting access token from the Strava. To get the access token, we make use of the authorization code we have obtained in the previous step. Before going to the steps involved, let\u2019s see what is access token and its significance. What is an access token? An access token is like a digital key that grants temporary permission to your application to access a user's data on another platform (Strava in this case, or your future platform). It acts as an intermediary between your app and the user's account. Security : Access tokens are crucial for maintaining user privacy and security Controlled access : Access tokens can be granted with specific scopes, limiting the data your application can access on behalf of the user. How can this be used? Include the access token in an authorization header when making API requests to your platform. This verifies that the request comes from a legitimate application with the user's permission. The expiration time for access tokens can vary depending on the platform's design. In Strava's case, access tokens expire after six hours . So, this is a brief info on what access token is, and why do we need it. Now, let\u2019s see the steps involved in obtaining access token. Step-1 : Now the user has the authorization code, (obtained from the previous step), user can send a POST request to the (\u201c/strava/auth\u201d) route of the API to get the access token. This requests in implemented in the API itself with the help of requests library, to reduce manual work. SO users can just access the URL or route of the API, and let it do the work for you. Step-2 : If the entered authorization code turns out to be valid, the API server responds with access token. The access token is sent to the user in JSON format. If the auth code is invalid, corresponding error message and status code are returned. Step-3 : Now, user has the \u201caccess token\u201d . This allows user to access the authorized data and manipulate it according to the use case. This access token can be used to track, and fetch details about athletes and their activities. Fetching Activities from the Strava onto the API By using the access token we got in the previous step, we can fetch the user\u2019s activities. The access token in the session indicates the user is authorized to the user the API and the API can fetch the data from the Strava easily. Before moving to steps involved, let\u2019s see the format, what details the activities in the Strava contain. Now, let\u2019s see steps involved in getting/fetching the user activities. Step-1 : Send a get request to the API server, to the route (\u201c/activities\u201d) with an access token as input, Step-2 : Now, if the access token which is inputted to the URL is valid, then the server responds back to the user with the list of activities under the Strava account. If there are no activities performed by the account yet, the server returns a empty array or returns a JSON array containing all the fields (as above shown) of a activity or activities performed. Note, if the access token is either expired or invalid, the server does not fetch the activities from the Strava. So, then user has to sort the corresponding issue and get back to sending requests to the route of the URL. Storing those activities in the database Revoking or de-authorization of the API by the user: So, a user can make use of the route (\u201c/revoke_token\u201d) to revoke the token. Revoking the token means the API has no longer access to the user\u2019s strava details. This can also be performed through the strava official page as well. Send a POST request to the route of the API server. Now, the API server revokes the access token and replies to you. Refreshing the Access token What is a refresh token? A refresh token is like a backstage pass that goes along with your access token (the frontstage key). While the access token grants temporary access to a user's data, the refresh token allows your application to acquire new access tokens without needing the user to re-authenticate each time. How can this be used? Once an access token expires, your application can send the refresh token back to the authorization server (like Strava's server or your future platform's server) to get a new access token. This typically happens behind the scenes without the user's involvement. Need for refresh token? (Not mandatory, but beneficial) Refresh tokens are not essential for every API, but they significantly improve user experience, especially for applications that require frequent access to user data. The procedure is almost the same as getting the \u201caccess token\u201d . The only difference is, that instead of sending the refresh token, we send the old, expired access token as input to the server and ask for the new access token. This can achieved with the help of the (\u201c/refresh_token\u201d) route in the API. As far as strava is considered, refersh token never expires","title":"Procedure"},{"location":"about/#procedure","text":"","title":"Procedure"},{"location":"about/#installationwindows-os","text":"Install the required dependencies if not installed. Continue with the installation of the API package if these dependencies are satisfied by the System. Flask :- This dependency is utilized for building web applications in Python, enabling the creation of routes and functionalities to handle HTTP requests and responses effectively. pip install flask Requests :- It's similar to Postman, Requests is employed to make HTTP requests, including GET and POST, to interact with the Strava API, facilitating communication between the application and the external service. pip install request dotenv :- By leveraging dotenv, the project can securely access environment variables, such as API keys or sensitive configuration settings, stored in .env file , ensuring separation of configuration from code. os :- The os module is utilized to interact with the operating system, specifically for loading environment variables from the .env file into the Python script, providing access to the environment configuration required for the application's execution. pip install dotenv pip install jsonify Importing the respective packages and ensuring the dependencies are installed according to the following. In your code editor make sure the code is well written:- from flask import Flask, request, jsonify import requests from dotenv import flaskload_dotenv import os Now, to install our API use: pip install strava_api Moving forward with the usage of API: For the Strava OAuth Settings: First, the user should go the official Strava website There, user has to register himself on Strava, create an account and Login. After the login, the user should go to the Settings page, there the user will be able to see a option called \"My Apps\" . Sometimes, if the option is not visible, user has to explicitly go the https://www.strava.com/settings/api (or apps) There, if he's new, nothing will be listed prior. Then he has to fill the form accordingly and create his API. After the successful creation of the API, the user will be able to see the Client ID and client secret listed down. Copy them and paste them into a .env file into their workspace. Now as we have completed the Installation process, further we developed 5 functionalities: Authorization. Getting the access token. Fetching the activities from the Strava API Storing those activities in the database Revoking or de-authorization of the API by the user. Refreshing the Access token.","title":"Installation(Windows OS)"},{"location":"about/#authorization","text":"To use our API, the user has to authorize himself through his Strava account. The \u201cAuthorization\u201d function in our API is mainly responsible for generating an authorization URL, which the user uses to get the authorization code. The Authorization code is given by Strava itself. This process of getting the authorization code can be manually processed or can be automated with the help of front-end. Before going to steps involved in authorization, let\u2019s briefly see what is this authorization code and what is its significance- Authorization code, is a crucial part of the OAuth 2.0 authorization framework. It is a alpha-numeric, temporary, sequence, acting as an intermediary step in the OAuth flow, bridging gap between the user authorization and granting access to our API. So, here our API authorization route (\u201c/authorize\u201d) , defines a function that returns a authorization URL, which is useful in getting authorization code. Step-1 : First, when the route is accessed, the API server returns a authorization URL, which is of the format: f\"{STRAVA_AUTH_URL}? client_id={CLIENT_ID}&redirect_uri={REDIRECT_URI}&response_type=code&scope={scope}\" This URL is unique to the user using it, as it involves the CLIENT_ID and the REDIRECT_URL of the respective user. So, let\u2019s briefly talk about \u201cSCOPE\u201d, which is mentioned above in the URL. Strava's API utilizes various scopes to define the level of access your application can request from a user's Strava account. These scopes are critical for granular control over the data your application can access and ensures user privacy. Here's a breakdown of the different scope types involved in Strava API settings: Common Strava Scopes: read : Grants read-only access to public profile data, like username and follower count. read_all : Extends read access to private profile data of the authorized user, including activities, clubs, and gear. profile:read_all : Specifically grants read access to all profile information of the authorized user. profile:write: Allows your application to modify the authorized user's profile data on Strava (use with caution!). activity:read : Enables read-only access to the authorized user's activity data, including details like distance and elapsed time. activity:read_all : Provides read access to all activity data, including private activities of the authorized user. activity:write : Grants your application permission to create, update, or delete activities on the authorized user's Strava account (be mindful of user privacy). Step-2 : Here, user have to use the resultant authorization URL to get the authorization code. To perform this, go to browser, and search this URL. If already not logged into Strava account, the URL prompts user to log in. Step-3 : After successful login, the user gets redirected to a authorization page, in which user has to authorize the API to access the user\u2019s details(Depends on the scope defined in the URL.) Step-4 : After the user authorizes the API, the user will be redirected to an empty website like shown below. Now, the user should copy the respective URL for that page. Step-5 : Now, after copying the URL of that page, user can identify a query parameter in the URL, named \u201ccode\u201d. Now, copy the value of that parameter from the URL. That value is the authorization code. End of Authorization URL.","title":"Authorization"},{"location":"about/#access-token","text":"Next step in the application, after authorization is, getting access token from the Strava. To get the access token, we make use of the authorization code we have obtained in the previous step. Before going to the steps involved, let\u2019s see what is access token and its significance.","title":"Access Token"},{"location":"about/#what-is-an-access-token","text":"An access token is like a digital key that grants temporary permission to your application to access a user's data on another platform (Strava in this case, or your future platform). It acts as an intermediary between your app and the user's account. Security : Access tokens are crucial for maintaining user privacy and security Controlled access : Access tokens can be granted with specific scopes, limiting the data your application can access on behalf of the user.","title":"What is an access token?"},{"location":"about/#how-can-this-be-used","text":"Include the access token in an authorization header when making API requests to your platform. This verifies that the request comes from a legitimate application with the user's permission. The expiration time for access tokens can vary depending on the platform's design. In Strava's case, access tokens expire after six hours . So, this is a brief info on what access token is, and why do we need it. Now, let\u2019s see the steps involved in obtaining access token. Step-1 : Now the user has the authorization code, (obtained from the previous step), user can send a POST request to the (\u201c/strava/auth\u201d) route of the API to get the access token. This requests in implemented in the API itself with the help of requests library, to reduce manual work. SO users can just access the URL or route of the API, and let it do the work for you. Step-2 : If the entered authorization code turns out to be valid, the API server responds with access token. The access token is sent to the user in JSON format. If the auth code is invalid, corresponding error message and status code are returned. Step-3 : Now, user has the \u201caccess token\u201d . This allows user to access the authorized data and manipulate it according to the use case. This access token can be used to track, and fetch details about athletes and their activities.","title":"How can this be used?"},{"location":"about/#fetching-activities-from-the-strava-onto-the-api","text":"By using the access token we got in the previous step, we can fetch the user\u2019s activities. The access token in the session indicates the user is authorized to the user the API and the API can fetch the data from the Strava easily. Before moving to steps involved, let\u2019s see the format, what details the activities in the Strava contain. Now, let\u2019s see steps involved in getting/fetching the user activities. Step-1 : Send a get request to the API server, to the route (\u201c/activities\u201d) with an access token as input, Step-2 : Now, if the access token which is inputted to the URL is valid, then the server responds back to the user with the list of activities under the Strava account. If there are no activities performed by the account yet, the server returns a empty array or returns a JSON array containing all the fields (as above shown) of a activity or activities performed. Note, if the access token is either expired or invalid, the server does not fetch the activities from the Strava. So, then user has to sort the corresponding issue and get back to sending requests to the route of the URL.","title":"Fetching Activities from the Strava onto the API"},{"location":"about/#storing-those-activities-in-the-database","text":"","title":"Storing those activities in the database"},{"location":"about/#revoking-or-de-authorization-of-the-api-by-the-user","text":"So, a user can make use of the route (\u201c/revoke_token\u201d) to revoke the token. Revoking the token means the API has no longer access to the user\u2019s strava details. This can also be performed through the strava official page as well. Send a POST request to the route of the API server. Now, the API server revokes the access token and replies to you.","title":"Revoking or de-authorization of the API by the user:"},{"location":"about/#refreshing-the-access-token","text":"","title":"Refreshing the Access token"},{"location":"about/#what-is-a-refresh-token","text":"A refresh token is like a backstage pass that goes along with your access token (the frontstage key). While the access token grants temporary access to a user's data, the refresh token allows your application to acquire new access tokens without needing the user to re-authenticate each time.","title":"What is a refresh token?"},{"location":"about/#how-can-this-be-used_1","text":"Once an access token expires, your application can send the refresh token back to the authorization server (like Strava's server or your future platform's server) to get a new access token. This typically happens behind the scenes without the user's involvement.","title":"How can this be used?"},{"location":"about/#need-for-refresh-token","text":"(Not mandatory, but beneficial) Refresh tokens are not essential for every API, but they significantly improve user experience, especially for applications that require frequent access to user data. The procedure is almost the same as getting the \u201caccess token\u201d . The only difference is, that instead of sending the refresh token, we send the old, expired access token as input to the server and ask for the new access token. This can achieved with the help of the (\u201c/refresh_token\u201d) route in the API. As far as strava is considered, refersh token never expires","title":"Need for refresh token?"}]}